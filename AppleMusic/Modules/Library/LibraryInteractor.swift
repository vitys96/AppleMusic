//
//  LibraryInteractor.swift
//  AppleMusic
//
//  Created Vitaly on 24.11.2019.
//  Copyright Â© 2019 Vitaly. All rights reserved.
//
//  Template generated by Sakhabaev Egor @Banck
//  https://github.com/Banck/Swift-viper-template-for-xcode
//

import UIKit
import RealmSwift

class LibraryInteractor: LibraryInteractorInput {
    
    private let realm = try! Realm()
    
    // MARK: - Properties
    weak var presenter: LibraryInteractorOutput?
    
    // MARK: - LibraryInteractorInput -
    func fetchTracksFromDB() {
        let results = realm.objects(TrackModel.self)
        let songsDB: [Songs] = results.map {
        Songs(object:
            ["artistName" : $0.artistName,
             "trackName" : $0.trackName,
             "artworkUrl100": $0.songIconUrl100
            ]
        )}
        self.presenter?.fetchedTracksFromDB(songs: songsDB)
    }
}
